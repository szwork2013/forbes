/*! angular-mobile-layout 13-06-2014 */

!function(){"use strict"}(window,document);var Js={};Js.isNothing=function(a){return void 0===a||null===a},Js.isSomething=function(a){return!Js.isNothing(a)},Js.isArray=function(a){return a instanceof Array},Js.isObject=function(a){return null!==a&&"object"==typeof a&&!(a instanceof Array)},Js.isNumber=function(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)},Js.isInteger=function(a){return null===a?!1:isNaN(a)?!1:parseInt(a,10)===parseFloat(a)},Js.isIntegerNumber=function(a){return"number"!=typeof a?!1:Js.isInteger(a)},Js.isPositiveInteger=function(a){return Js.isInteger(a)?a>0:!1},Js.isBoolean=function(a){return"boolean"==typeof a},Js.isString=function(a){return null===a?!1:void 0===a?!1:"string"==typeof a},Js.isFunction=function(a){return"function"==typeof a},Js.isEmptyString=function(a){return!Js.isString(a)||0===a.length},Js.formatString=function(){var a=arguments[0];if(!Js.isString(a))throw"Expected first argument to be the string format, but was "+a;for(var b=1;b<arguments.length;b++){var c=arguments[b];a=a.replace("%s",c)}return a},Js.printException=function(a){return a instanceof Error?a.message+"\n"+a.stack:"Expected an Error, but was "+a};var Preconditions={};Preconditions.check=function(a,b,c,d){if(!a&&0!==a){if(!c)throw new Error(b);if(!Js.isString(c))return void console.error("Expected a string as the second argument, but was "+c);b||(b="Error: ");var e=Js.formatString.apply(null,d);throw new Error(b+e)}},Preconditions.checkArgument=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.slice(1,c.length);Preconditions.check(a,"Illegal Argument: ",b,d)},Preconditions.checkState=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.slice(1,c.length);Preconditions.check(a,"Illegal State: ",b,d)},angular.module("mobile.layout",[]).provider("JqLiteExtender",function(){var a=this;this.extendPrototype=function(){angular.element.prototype.$forEach=function(a){for(var b=0;b<this.length;b++)a(this[b])},angular.element.prototype.$filter=function(a){var b=[];return this.$forEach(function(c){a(c)&&b.push(c)}),new angular.element(b)};var a=/\[([\w\-])*\]/g,b=/([\w\-]|\*)+/g,c=function(a){return Preconditions.checkArgument(a.length>2,"Invalid attribute selector: %s",a),a.substring(1,a.length-1)},d=function(d){var e;if("["===d.charAt(0))e="*";else{var f=d.match(b);e=f?f[0]:"*"}var g,h=d.match(a);return h&&(Preconditions.checkArgument(1===h.length,"At most 1 attribute selector supported, but found %s selectors in %s",h.length,d),g=c(h[0])),{tag:e,attr:g}},e=function(a){return a?a.length<1:!0},f=function(a){Preconditions.checkArgument(Js.isString(a),"Not a selector: %s",a);var b=a.trim(),c=b.split(".");Preconditions.checkArgument(c.length>=1,"Invalid selector: %s",a);var e=c.shift();Js.isEmptyString(e)&&(e="*"),this.tagSelector=d(e),this.classNames=c};f.prototype={},f.prototype.getTagName=function(){return this.tagSelector.tag},f.prototype.filterByTagName=function(a){if(e(a))return a;var b=this.tagSelector.tag;return"*"===b?a:a.$filter(function(a){return a.localName===b})},f.prototype.filterByClass=function(a){if(e(a))return a;var b=this.classNames;if(b.length<1)return a;var c=function(a){for(var c=a.classList,d=0;d<b.length;d++)if(!c.contains(b[d]))return!1;return!0};return a.$filter(c)},f.prototype.filterByAttribute=function(a){if(e(a))return a;var b=this.tagSelector;if(!b.attr)return a;var c=function(a){return 1===a.nodeType&&a.hasAttribute(b.attr)};return a.$filter(c)},angular.element.prototype.$find=function(a){var b=new f(a),c=this.find(b.getTagName());if(e(c))return c;var d=b.filterByClass(c),g=b.filterByAttribute(d);return g},angular.element.prototype.$contents=function(a){var b=new f(a),c=b.filterByTagName(this);if(e(c))return c;var d=b.filterByClass(c),g=b.filterByAttribute(d);return g},angular.element.prototype.$children=function(a){var b=this.children();return e(b)?b:b.$contents(a)}},this.$get=[function(){return a}]}).config(["JqLiteExtenderProvider",function(a){a.extendPrototype()}]),angular.module("mobile.layout").controller("multiTransclude",["$scope","$exceptionHandler",function(a,b){var c=[],d=0,e=0,f=function(){for(var a=0;a<c.length;a++){var d=c[a];try{d()}catch(e){b(e)}}};a.multiTranscludeCtrl={addTranscludePostLinker:function(a){Preconditions.checkArgument(_.isFunction(a),"Expected callback function, but was %s",a),c.push(a)},transcludePostLinkComplete:function(){d++,d>=e&&f()},notifyOfExistence:function(){e++}}}]),angular.module("mobile.layout").directive("transcludeFooter",[function(){return{restrict:"A",replace:!1,terminal:!1,priority:1e4,link:function(a){Preconditions.checkState(!!a.multiTranscludeCtrl,"Missing required multi-transclude controller object."),a.multiTranscludeCtrl.transcludePostLinkComplete()}}}]),angular.module("mobile.layout").directive("transcludeHeader",[function(){return{restrict:"A",replace:!1,terminal:!1,priority:1e4,link:function(a){Preconditions.checkState(!!a.multiTranscludeCtrl,"Missing required multi-transclude controller object."),a.multiTranscludeCtrl.transcludePostLinkComplete()}}}]),angular.module("mobile.layout").directive("verticalFillLayout",["$timeout",function(a){var b=function(a){var b=a.$contents("div.vfl.vfl-container"),c=b.children(),d=c.$contents("div.vfl.vfl-header"),e=c.$contents("div.vfl.vfl-body"),f=c.$contents("div.vfl.vfl-footer");return{container:b,header:d,body:e,footer:f}};return{template:'<div class="vfl vfl-container"><div class="vfl vfl-header"></div><div class="vfl vfl-body"></div><div class="vfl vfl-footer"></div></div>',restrict:"E",replace:!0,transclude:!0,controller:["$scope","$element","$transclude",function(c,d,e){var f=c.multiTranscludeCtrl;Preconditions.checkArgument(!!f,"Missing multi-transclude controller object.");var g=function(){a(function(){var a=b(d),c=a.body[0],e=a.container.length>0?a.container[0].offsetHeight:0,f=a.header.length>0?a.header[0].offsetHeight:0,g=a.footer.length>0?a.footer[0].offsetHeight:0,h=e-(f+g);c.style.height=h.toString()+"px"},0)};f.addTranscludePostLinker(g),e(function(a){var c=b(d),e=c.header,g=c.body,h=c.footer,i=a.$contents("*[transclude-header]"),j=a.$contents("*[transclude-body]"),k=a.$contents("*[transclude-footer]");Js.isSomething(i[0])&&(e.append(i),f.notifyOfExistence()),Js.isSomething(k[0])&&(h.append(k),f.notifyOfExistence()),Js.isSomething(j[0])&&g.append(j)})}]}}]);
//# sourceMappingURL=angular-mobile-layout.min.map